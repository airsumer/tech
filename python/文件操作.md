- 文件操作的一般流程

- 相对路径和绝对路径

操作系统不允许用户程序直接访问磁盘，而是要通过**文件系统调用**，Python 通过 C 函数库访问系统调用，进行文件读写。对文件读写操作需要通过**文件描述符**进行。

# 文件的基本操作

##  文件打开和关闭

### open函数

使用`open()`可以打开文件获取**文件描述符**，打开文件时需要指定对文件的**读写模式**，和**写追加**模式。其函数定义为：

``` python	
/**



return file_object:打开file并返回相应的file_object
*/
open(file, mode='r', buffering=-1*, *encoding=None, errors=None, newline=None, closefd=True, opener=None)
```

- file

是一个 path-like object，表示将要打开的文件的**路径**（绝对路径或者相对当前工作目录的路径），也可以是要封装文件对应的**整数类型文件描述符**。（如果给出的是文件描述符，则当返回的 I/O 对象关闭时它也会关闭，除非将 closefd 设为 False 。）

- mode

	*mode* 是一个指明文件打开模式的可选字符串。 它默认为 `'r'` 表示以文本模式读取。常见的mode为：

	| 字符  | 含意                                       |
	| :---- | :----------------------------------------- |
	| `'r'` | 读取（默认）                               |
	| `'w'` | 写入，并先截断文件                         |
	| `'x'` | 排它性创建，如果文件已存在则失败           |
	| `'a'` | 打开文件用于写入，如果文件存在则在末尾追加 |
	| `'b'` | 二进制模式                                 |
	| `'t'` | 文本模式（默认）                           |
	| `'+'` | 打开用于更新（读取与写入）                 |

默认模式为 `'r'` （打开文件用于读取文本，与 `'rt'` 同义）。`'w+'` 和 `'w+b'` 模式将打开文件并清空内容。而 `'r+'` 和 `'r+b'` 模式将打开文件但不清空内容。

使用二进制模式只返回未经处理的字节流，使用文本模式则将使会把数据解码为字符串。

- encoding

*encoding* 是用于编码或编码文件的编码格式名称。 这应当只有文本模式下使用。 

- *newline* 决定如何解析来自流的换行符。 它可以为 `None`, `''`, `'\n'`, `'\r'` 和 `'\r\n'`。 它的工作原理如下:

	​	从流中读取输入时，如果 *newline* 为 `None`，则启用通用换行模式。输入中的行可以以 `'\n'`，`'\r'` 或 `'\r\n'` 结尾，这些行被翻译成 `'\n'` 在返回呼叫者之前。如果它是 `''`，则启用通用换行模式，但行结尾将返回给调用者未翻译。如果它具有任何其他合法值，则输入行仅由给定字符串终止，并且返回给调用者时行结尾不会被转换。

	​	将输出写入流时，如果 *newline* 为 `None`，则写入的任何 `'\n'` 字符都将转换为系统默认行分隔符 [`os.linesep`](https://docs.python.org/zh-cn/3.12/library/os.html#os.linesep)。如果 *newline* 是 `''` 或 `'\n'`，则不进行翻译。如果 *newline* 是任何其他合法值，则写入的任何 `'\n'` 字符将被转换为给定的字符串。


### close

close用于关闭文件描述符



## 相对路径与绝对路径

需要注意python中的相对路径和绝对路径：

- 相对路径：在python脚本中，相对路径相对的是脚本执行地点
- 绝对路径：相对于根路径

现在遇到的问题是：在vscode中执行脚本，显示FileNotFoundError。文件的目录为：

``` bash
/father
├── example.py
└── example.txt
```

vscode中将`\father` 作为项目的根目录，在执行执行脚本时报`FileNotFoundError`。

